"use strict";exports.id=6673,exports.ids=[6673],exports.modules={52059:(e,s,a)=>{a.r(s),a.d(s,{ServiceForm:()=>ServiceForm});var t=a(67622),r=a(50789),i=a(11955),l=a(81300),d=a(2877),n=a(84059),c=a(97301),o=a(13831),m=a(38307),p=a(16785),f=a(62511),u=a(56819),x=a(94408),h=a(48298),j=a(36698),y=a.n(j),N=a(91069),g=a(97335),v=a(99682),b=a(34083),w=a(54155);let S=N.fC;N.ZA;let _=N.B4,Z=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(N.xz,{ref:r,className:(0,w.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...a,children:[s,t.jsx(N.JO,{asChild:!0,children:t.jsx(g.Z,{className:"h-4 w-4 opacity-50"})})]}));Z.displayName=N.xz.displayName;let C=r.forwardRef(({className:e,...s},a)=>t.jsx(N.u_,{ref:a,className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(v.Z,{className:"h-4 w-4"})}));C.displayName=N.u_.displayName;let F=r.forwardRef(({className:e,...s},a)=>t.jsx(N.$G,{ref:a,className:(0,w.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(g.Z,{className:"h-4 w-4"})}));F.displayName=N.$G.displayName;let R=r.forwardRef(({className:e,children:s,position:a="popper",...r},i)=>t.jsx(N.h_,{children:(0,t.jsxs)(N.VY,{ref:i,className:(0,w.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(C,{}),t.jsx(N.l_,{className:(0,w.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(F,{})]})}));R.displayName=N.VY.displayName;let z=r.forwardRef(({className:e,...s},a)=>t.jsx(N.__,{ref:a,className:(0,w.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s}));z.displayName=N.__.displayName;let k=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(N.ck,{ref:r,className:(0,w.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(N.wU,{children:t.jsx(b.Z,{className:"h-4 w-4"})})}),t.jsx(N.eT,{children:s})]}));k.displayName=N.ck.displayName;let D=r.forwardRef(({className:e,...s},a)=>t.jsx(N.Z0,{ref:a,className:(0,w.cn)("-mx-1 my-1 h-px bg-muted",e),...s}));D.displayName=N.Z0.displayName;let T=["Shield","Lock","FileText","BarChart","Users","Bell","AlertTriangle","Database","Server","Wifi","Globe","Mail"];function ServiceForm({service:e}){let s=(0,i.useRouter)(),a=!!e,[j,N]=(0,r.useState)(e?.title||""),[g,v]=(0,r.useState)(e?.description||""),[b,w]=(0,r.useState)(e?.icon||"Shield"),[C,F]=(0,r.useState)(e?.image||""),[z,D]=(0,r.useState)(null),[V,q]=(0,r.useState)(!1),B=(0,l.e)(),{toast:G}=(0,p.p)(),handleSubmit=async t=>{t.preventDefault(),D(null),q(!0);try{if(a){let{error:s}=await B.from("services").update({title:j,description:g,icon:b,image:C,updated_at:new Date().toISOString()}).eq("id",e.id);if(s)throw s;G({title:"تم التحديث",description:"تم تحديث الخدمة بنجاح"})}else{let{error:e}=await B.from("services").insert({title:j,description:g,icon:b,image:C});if(e)throw e;G({title:"تمت الإضافة",description:"تم إضافة الخدمة بنجاح"})}s.push("/admin/services"),s.refresh()}catch(e){D(e.message||"حدث خطأ أثناء حفظ الخدمة")}finally{q(!1)}};return t.jsx(m.Zb,{children:(0,t.jsxs)(m.aY,{className:"pt-6",children:[z&&(0,t.jsxs)(x.bZ,{variant:"destructive",className:"mb-6",children:[t.jsx(f.Z,{className:"h-4 w-4"}),t.jsx(x.X,{children:z})]}),(0,t.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"title",children:"عنوان الخدمة"}),t.jsx(n.I,{id:"title",value:j,onChange:e=>N(e.target.value),required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"icon",children:"الأيقونة"}),(0,t.jsxs)(S,{value:b,onValueChange:w,children:[t.jsx(Z,{children:t.jsx(_,{placeholder:"اختر أيقونة"})}),t.jsx(R,{children:T.map(e=>t.jsx(k,{value:e,children:e},e))})]}),t.jsx("p",{className:"text-sm text-gray-500",children:"اختر الأيقونة المناسبة للخدمة"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx(c._,{htmlFor:"description",children:"وصف الخدمة"}),t.jsx(o.g,{id:"description",value:g,onChange:e=>v(e.target.value),required:!0,rows:5})]}),t.jsx(h.t,{value:C,onChange:F,label:"صورة الخدمة",folder:"services",helpText:"صورة توضيحية للخدمة (اختياري)"}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(y(),{href:"/admin/services",children:(0,t.jsxs)(d.z,{type:"button",variant:"outline",children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"رجوع"]})}),t.jsx(d.z,{type:"submit",disabled:V,children:V?a?"جاري التحديث...":"جاري الإضافة...":a?"تحديث الخدمة":"إضافة الخدمة"})]})]})]})})}},61384:(e,s,a)=>{a.d(s,{V:()=>d});var t=a(89408);let r=(0,t.createProxy)(String.raw`C:\Users\fadia\Documents\augment-projects\arabic-cybersecurity\components\admin\service-form.tsx`),{__esModule:i,$$typeof:l}=r;r.default;let d=r.ServiceForm}};