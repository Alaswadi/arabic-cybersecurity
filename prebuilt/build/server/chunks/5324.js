exports.id=5324,exports.ids=[5324],exports.modules={14901:(e,s,t)=>{Promise.resolve().then(t.bind(t,13424))},13424:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminLayout});var r=t(67622),n=t(36698),a=t.n(n),i=t(11955),l=t(81300),d=t(2877),c=t(31453),o=t(28905),u=t(27429),m=t(5538),h=t(57180),x=t(8201),f=t(51467),g=t(53454),j=t(50789),p=t(54155);function AdminSidebar(){let e=(0,i.usePathname)(),s=(0,i.useRouter)(),[t,n]=(0,j.useState)(!1),v=(0,l.e)(),handleSignOut=async()=>{await v.auth.signOut(),s.push("/admin/login"),s.refresh()},y=[{title:"لوحة التحكم",href:"/admin",icon:c.Z},{title:"الخدمات",href:"/admin/services",icon:o.Z},{title:"المقالات",href:"/admin/blog",icon:u.Z},{title:"سياسة التخزين",href:"/admin/storage-policy",icon:m.Z},{title:"تحديث قاعدة البيانات",href:"/admin/update-schema",icon:h.Z}];return(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"fixed top-4 left-4 z-40 md:hidden",children:r.jsx(d.z,{variant:"outline",size:"icon",onClick:()=>n(!t),children:t?r.jsx(x.Z,{className:"h-5 w-5"}):r.jsx(f.Z,{className:"h-5 w-5"})})}),r.jsx("div",{className:(0,p.cn)("fixed inset-y-0 left-0 z-30 w-64 transform bg-white shadow-lg transition-transform duration-200 ease-in-out md:relative md:translate-x-0 border-r border-gray-200",t?"translate-x-0":"-translate-x-full"),children:(0,r.jsxs)("div",{className:"flex h-full flex-col",children:[r.jsx("div",{className:"flex h-16 items-center border-b px-6",children:r.jsx("h2",{className:"text-lg font-bold",children:"لوحة التحكم"})}),r.jsx("div",{className:"flex-1 overflow-y-auto py-4",children:r.jsx("nav",{className:"space-y-1 px-3",children:y.map(s=>(0,r.jsxs)(a(),{href:s.href,className:(0,p.cn)("flex items-center rounded-md px-3 py-2 text-sm font-medium",e===s.href?"bg-purple-100 text-purple-700":"text-gray-700 hover:bg-gray-100"),onClick:()=>n(!1),children:[r.jsx(s.icon,{className:"mr-3 h-5 w-5"}),s.title]},s.href))})}),r.jsx("div",{className:"border-t p-4",children:(0,r.jsxs)(d.z,{variant:"outline",className:"w-full justify-start border-gray-200 hover:bg-gray-100 hover:text-purple-700",onClick:handleSignOut,children:[r.jsx(g.Z,{className:"mr-2 h-4 w-4"}),"تسجيل الخروج"]})})]})}),t&&r.jsx("div",{className:"fixed inset-0 z-20 bg-black/50 md:hidden",onClick:()=>n(!1)})]})}let v=(0,j.createContext)({user:null,session:null,isLoading:!0}),AuthProvider=({children:e})=>{let[s,t]=(0,j.useState)(null),[n,a]=(0,j.useState)(null),[i,d]=(0,j.useState)(!0),c=(0,l.e)();return(0,j.useEffect)(()=>{let getSession=async()=>{try{let{data:e,error:s}=await c.auth.getSession();if(s){console.error("Error getting session:",s.message);return}a(e.session),t(e.session?.user??null)}catch(e){console.error("Unexpected error in getSession:",e)}finally{d(!1)}};getSession();let{data:{subscription:e}}=c.auth.onAuthStateChange((e,s)=>{a(s),t(s?.user??null),d(!1)});return()=>{e.unsubscribe()}},[c]),r.jsx(v.Provider,{value:{user:s,session:n,isLoading:i},children:e})};var y=t(12940);function AdminLayout({children:e}){let s=(0,i.usePathname)();return r.jsx(AuthProvider,{children:"/admin/login"===s||"/admin/register"===s?(0,r.jsxs)(r.Fragment,{children:[e,r.jsx(y.Toaster,{})]}):(0,r.jsxs)("div",{className:"flex min-h-screen bg-[#f5f5f7]",dir:"ltr",children:[r.jsx(AdminSidebar,{}),r.jsx("div",{className:"flex-1",children:r.jsx("div",{className:"container mx-auto py-6 px-4",children:e})}),r.jsx(y.Toaster,{})]})})}},15801:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>d});var r=t(89408);let n=(0,r.createProxy)(String.raw`C:\Users\fadia\Documents\augment-projects\arabic-cybersecurity\app\admin\layout.tsx`),{__esModule:a,$$typeof:i}=n,l=n.default,d=l},55831:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminNotFound});var r=t(76978),n=t(72134),a=t.n(n),i=t(81041);function AdminNotFound(){return(0,r.jsxs)("div",{className:"flex min-h-screen flex-col items-center justify-center",children:[r.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404 - الصفحة غير موجودة"}),r.jsx("p",{className:"mb-8 text-gray-600",children:"عذراً، الصفحة التي تبحث عنها غير موجودة."}),r.jsx(a(),{href:"/admin",children:r.jsx(i.z,{children:"العودة إلى لوحة التحكم"})})]})}}};