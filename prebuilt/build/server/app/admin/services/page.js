(()=>{var e={};e.id=7838,e.ids=[7838],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},31004:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o});var t=r(35758),i=r(83263),n=r(81307),a=r.n(n),c=r(55837),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);r.d(s,l);let o=["",{children:["admin",{children:["services",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,54244)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\services\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15801)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,55831)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,88910)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,84219,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\services\\page.tsx"],u="/admin/services/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/services/page",pathname:"/admin/services",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},81620:(e,s,r)=>{Promise.resolve().then(r.bind(r,28627)),Promise.resolve().then(r.t.bind(r,63518,23))},28627:(e,s,r)=>{"use strict";r.r(s),r.d(s,{ServicesTable:()=>ServicesTable});var t=r(67622),i=r(50789),n=r(36698),a=r.n(n),c=r(11955),l=r(81300),o=r(97318),d=r(2877),u=r(43884),x=r(89646),p=r(72505),h=r(95381),m=r(71892),j=r(16785);function ServicesTable({services:e}){let s=(0,c.useRouter)(),[r,n]=(0,i.useState)(!1),[v,g]=(0,i.useState)(null),b=(0,l.e)(),{toast:f}=(0,j.p)(),handleDelete=async()=>{if(!v)return;let{error:e}=await b.from("services").delete().eq("id",v.id);if(e){f({title:"خطأ",description:"حدث خطأ أثناء حذف الخدمة",variant:"destructive"});return}f({title:"تم الحذف",description:"تم حذف الخدمة بنجاح"}),s.refresh(),g(null)};return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(o.iA,{children:[t.jsx(o.xD,{children:(0,t.jsxs)(o.SC,{children:[t.jsx(o.ss,{children:"العنوان"}),t.jsx(o.ss,{children:"الأيقونة"}),t.jsx(o.ss,{children:"الصورة"}),t.jsx(o.ss,{children:"تاريخ الإنشاء"}),t.jsx(o.ss,{className:"w-[100px]",children:"الإجراءات"})]})}),t.jsx(o.RM,{children:0===e.length?t.jsx(o.SC,{children:t.jsx(o.pj,{colSpan:4,className:"text-center",children:"لا توجد خدمات"})}):e.map(e=>(0,t.jsxs)(o.SC,{children:[t.jsx(o.pj,{className:"font-medium",children:e.title}),t.jsx(o.pj,{children:e.icon}),t.jsx(o.pj,{children:e.image?t.jsx("div",{className:"relative h-10 w-10 rounded overflow-hidden",children:t.jsx("img",{src:e.image,alt:e.title,className:"object-cover h-full w-full"})}):t.jsx("span",{className:"text-gray-400",children:"-"})}),t.jsx(o.pj,{children:new Date(e.created_at).toLocaleDateString("ar-SA")}),t.jsx(o.pj,{children:(0,t.jsxs)(u.h_,{children:[t.jsx(u.$F,{asChild:!0,children:(0,t.jsxs)(d.z,{variant:"ghost",size:"icon",children:[t.jsx(p.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"فتح القائمة"})]})}),(0,t.jsxs)(u.AW,{align:"end",children:[t.jsx(a(),{href:`/admin/services/${e.id}`,children:(0,t.jsxs)(u.Xi,{children:[t.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"تعديل"]})}),(0,t.jsxs)(u.Xi,{className:"text-red-600",onClick:()=>{g(e),n(!0)},children:[t.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"حذف"]})]})]})})]},e.id))})]})}),t.jsx(x.aR,{open:r,onOpenChange:n,children:(0,t.jsxs)(x._T,{children:[(0,t.jsxs)(x.fY,{children:[t.jsx(x.f$,{children:"هل أنت متأكد من حذف هذه الخدمة؟"}),t.jsx(x.yT,{children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف الخدمة نهائياً من قاعدة البيانات."})]}),(0,t.jsxs)(x.xo,{children:[t.jsx(x.le,{children:"إلغاء"}),t.jsx(x.OL,{className:"bg-red-600 hover:bg-red-700",onClick:handleDelete,children:"حذف"})]})]})})]})}},54244:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>ServicesPage});var t=r(76978),i=r(50139),n=r(72134),a=r.n(n),c=r(81041),l=r(6867),o=r(89408);let d=(0,o.createProxy)(String.raw`C:\Users\fadia\Documents\augment-projects\arabic-cybersecurity\components\admin\services-table.tsx`),{__esModule:u,$$typeof:x}=d;d.default;let p=d.ServicesTable;async function ServicesPage(){let e=(0,i.e)(),{data:s,error:r}=await e.from("services").select("*").order("created_at",{ascending:!1});return r&&console.error("Error fetching services:",r),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"إدارة الخدمات"}),t.jsx(a(),{href:"/admin/services/new",children:(0,t.jsxs)(c.z,{children:[t.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"إضافة خدمة جديدة"]})})]}),t.jsx(p,{services:s||[]})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[9010,6342,329,1031,7198,8600,895,3433,4306,3676,6257,7122,3515,2025,8929,5712,7615,5324,1120],()=>__webpack_exec__(31004));module.exports=r})();