(()=>{var e={};e.id=4063,e.ids=[4063],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},77074:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=r(35758),i=r(83263),n=r(81307),a=r.n(n),o=r(55837),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let c=["",{children:["admin",{children:["blog",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43779)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\blog\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,15801)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,55831)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,88910)),"C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,84219,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\fadia\\Documents\\augment-projects\\arabic-cybersecurity\\app\\admin\\blog\\page.tsx"],u="/admin/blog/page",x={require:r,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/admin/blog/page",pathname:"/admin/blog",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},95484:(e,s,r)=>{Promise.resolve().then(r.bind(r,9984)),Promise.resolve().then(r.t.bind(r,63518,23))},9984:(e,s,r)=>{"use strict";r.r(s),r.d(s,{BlogPostsTable:()=>BlogPostsTable});var t=r(67622),i=r(50789),n=r(36698),a=r.n(n),o=r(11955),l=r(81300),c=r(97318),d=r(2877),u=r(14996),x=r(54155);let p=(0,u.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className:e,variant:s,...r}){return t.jsx("div",{className:(0,x.cn)(p({variant:s}),e),...r})}var h=r(43884),m=r(89646),g=r(72505),b=r(95381),j=r(45481);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let f=(0,j.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var y=r(71892),v=r(16785);function BlogPostsTable({posts:e}){let s=(0,o.useRouter)(),[r,n]=(0,i.useState)(!1),[u,x]=(0,i.useState)(null),p=(0,l.e)(),{toast:j}=(0,v.p)(),handleDelete=async()=>{if(!u)return;let{error:e}=await p.from("blog_posts").delete().eq("id",u.id);if(e){j({title:"خطأ",description:"حدث خطأ أثناء حذف المقال",variant:"destructive"});return}j({title:"تم الحذف",description:"تم حذف المقال بنجاح"}),s.refresh(),x(null)},togglePublishStatus=async e=>{let r=!e.published,{error:t}=await p.from("blog_posts").update({published:r,published_at:r?new Date().toISOString():null,updated_at:new Date().toISOString()}).eq("id",e.id);if(t){j({title:"خطأ",description:"حدث خطأ أثناء تغيير حالة النشر",variant:"destructive"});return}j({title:"تم التحديث",description:r?"تم نشر المقال بنجاح":"تم إلغاء نشر المقال بنجاح"}),s.refresh()};return(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(c.iA,{children:[t.jsx(c.xD,{children:(0,t.jsxs)(c.SC,{children:[t.jsx(c.ss,{children:"العنوان"}),t.jsx(c.ss,{children:"الرابط"}),t.jsx(c.ss,{children:"الحالة"}),t.jsx(c.ss,{children:"تاريخ الإنشاء"}),t.jsx(c.ss,{className:"w-[100px]",children:"الإجراءات"})]})}),t.jsx(c.RM,{children:0===e.length?t.jsx(c.SC,{children:t.jsx(c.pj,{colSpan:5,className:"text-center",children:"لا توجد مقالات"})}):e.map(e=>(0,t.jsxs)(c.SC,{children:[t.jsx(c.pj,{className:"font-medium",children:e.title}),t.jsx(c.pj,{className:"font-mono text-sm",children:e.slug}),t.jsx(c.pj,{children:t.jsx(Badge,{variant:e.published?"default":"outline",className:e.published?"bg-green-500":"",children:e.published?"منشور":"مسودة"})}),t.jsx(c.pj,{children:new Date(e.created_at).toLocaleDateString("ar-SA")}),t.jsx(c.pj,{children:(0,t.jsxs)(h.h_,{children:[t.jsx(h.$F,{asChild:!0,children:(0,t.jsxs)(d.z,{variant:"ghost",size:"icon",children:[t.jsx(g.Z,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"فتح القائمة"})]})}),(0,t.jsxs)(h.AW,{align:"end",children:[t.jsx(a(),{href:`/admin/blog/${e.id}`,children:(0,t.jsxs)(h.Xi,{children:[t.jsx(b.Z,{className:"mr-2 h-4 w-4"}),"تعديل"]})}),(0,t.jsxs)(h.Xi,{onClick:()=>togglePublishStatus(e),children:[t.jsx(f,{className:"mr-2 h-4 w-4"}),e.published?"إلغاء النشر":"نشر"]}),(0,t.jsxs)(h.Xi,{className:"text-red-600",onClick:()=>{x(e),n(!0)},children:[t.jsx(y.Z,{className:"mr-2 h-4 w-4"}),"حذف"]})]})]})})]},e.id))})]})}),t.jsx(m.aR,{open:r,onOpenChange:n,children:(0,t.jsxs)(m._T,{children:[(0,t.jsxs)(m.fY,{children:[t.jsx(m.f$,{children:"هل أنت متأكد من حذف هذا المقال؟"}),t.jsx(m.yT,{children:"هذا الإجراء لا يمكن التراجع عنه. سيتم حذف المقال نهائياً من قاعدة البيانات."})]}),(0,t.jsxs)(m.xo,{children:[t.jsx(m.le,{children:"إلغاء"}),t.jsx(m.OL,{className:"bg-red-600 hover:bg-red-700",onClick:handleDelete,children:"حذف"})]})]})})]})}},43779:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>BlogPostsPage});var t=r(76978),i=r(50139),n=r(72134),a=r.n(n),o=r(81041),l=r(6867),c=r(89408);let d=(0,c.createProxy)(String.raw`C:\Users\fadia\Documents\augment-projects\arabic-cybersecurity\components\admin\blog-posts-table.tsx`),{__esModule:u,$$typeof:x}=d;d.default;let p=d.BlogPostsTable;async function BlogPostsPage(){let e=(0,i.e)(),{data:s,error:r}=await e.from("blog_posts").select("*").order("created_at",{ascending:!1});return(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("h1",{className:"text-3xl font-bold",children:"إدارة المقالات"}),t.jsx(a(),{href:"/admin/blog/new",children:(0,t.jsxs)(o.z,{children:[t.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"إضافة مقال جديد"]})})]}),t.jsx(p,{posts:s||[]})]})}}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[9010,6342,329,1031,7198,8600,895,3433,4306,3676,6257,7122,3515,2025,8929,5712,7615,5324,1120],()=>__webpack_exec__(77074));module.exports=r})();